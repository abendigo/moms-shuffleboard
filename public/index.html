<!DOCTYPE html>
<html>
  <head>
    <!-- <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://unpkg.com/vuex/dist/vuex.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script> -->

    <!-- <script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-firestore.js"></script>

    <script>
      // // Initialize Firebase
      // const config = {
      //   apiKey: "AIzaSyDAx27-_XF2eM7wXiedd7goKm5p1fMONfs",
      //   authDomain: "moms-shuffleboard.firebaseapp.com",
      //   databaseURL: "https://moms-shuffleboard.firebaseio.com",
      //   projectId: "moms-shuffleboard",
      //   storageBucket: "moms-shuffleboard.appspot.com",
      //   messagingSenderId: "154777839060"
      // };
      // firebase.initializeApp(config);
    </script>

    <style>
      table {
          border-collapse: collapse;
      }

      table, th, td {
          border: 1px solid black;
      }
    </style>

    <script type="text/x-template" id="schedule-template">
      <table style="border: 4px solid black;">
        <thead>
          <tr>
            <th></th>
            <th v-for="timeslot in timeslots">{{timeslot}}</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="date in dates">
            <td>{{date}}</td>
            <td v-for="timeslot in timeslots">
              <ul>
                <li v-for="team in schedule[date][timeslot]">
                  <ol>
                    <li>{{ getTeam(team).member_1 }}</li>
                    <li>{{ getTeam(team).member_2 }}</li>
                  </ol>
                </li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </script>

    <script type="text/x-template" id="teams-template">
      <div>
        <ul>
        <li v-for="team, index of teams">
          <ol>
            <li>{{ team.member_1 }}</li>
            <li>{{ team.member_2 }}</li>
          </ol>
          <button v-on:click="onDelete(index)">delete</button>
        </li>
        </ul>

        <form v-on:submit.prevent="processForm">
          <input type="text" placeholder="First Team Member" v-model="form.member_1">
          <input type="text" placeholder="Second Team Member" v-model="form.member_2">
          <input type="submit">
        </form>

        <button @click="generateSchedule">Generate Schedule</button>
        </div>
    </script>
  </head>
  <body>
    <div id="app">
      <h2>Router Links</h2>
      <router-link to="/">Schedule</router-link>
      <router-link to="/teams">Teams</router-link>
      <h2>Router Outlet</h2>
      <router-view></router-view>
    </div>
  </body>

  <script type="module">
    import { Schedule } from './schedule.mjs';
    import { Teams } from './teams.mjs';
    import { store } from './store.mjs';

    const router = new VueRouter({
      mode: 'history',
      routes: [
        { path: '/', component: Schedule },
        { path: '/teams', component: Teams }
      ]
    })

    const app = new Vue({
      el: '#app',
      router: router,
      store: store,
      components: { Schedule, Teams }
    });

  </script>
</html>
